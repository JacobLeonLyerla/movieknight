(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(68)},37:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=(a(35),a(37),a(28)),i=a.n(c),r=a(9),l=a(10),m=a(12),s=a(11),u=a(13),v=a(78),p=a(15),d=a(17),f=a.n(d),h=o.a.createContext({}),g=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={movies:[],page:1,totalPages:0,type:"now_playing",search:""},a.fetchMovies=function(e,t,n){var o;e>a.state.totalPages&&(e=1),void 0===e&&(e=a.state.page),void 0===t&&(t=a.state.type),void 0===n&&(n=a.state.search),o=""!==n?"https://api.themoviedb.org/3/search/movie?api_key=".concat("705e3765da8c6ecc74161f0b998fa33e","&language=en-US&query=").concat(n,"&page=").concat(e,"&include_adult=false"):"https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("705e3765da8c6ecc74161f0b998fa33e","&language=en-US&page=").concat(e,"&include_adult=false"),f.a.get(o).then(function(e){a.setState({movies:e.data.results,totalPages:e.data.total_pages})}).catch(function(e){return console.log(e)})},a.setPage=function(e){e>a.state.totalPages?a.setState({page:1}):a.setState({page:e})},a.handleType=function(e){var t;a.setState((t={},Object(p.a)(t,e.target.name,e.target.value),Object(p.a)(t,"page",1),t)),a.fetchMovies(1,e.target.value,"")},a.handleSearch=function(e,t){e.preventDefault(),t=t.replace(" ","+"),a.setState({search:t}),a.fetchMovies(1,"search",t)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchMovies()}},{key:"render",value:function(){var e=this.state;return o.a.createElement(h.Provider,{value:{movieData:e,actions:{fetchMovies:this.fetchMovies,setPage:this.setPage,handleType:this.handleType,handleSearch:this.handleSearch}}},this.props.children)}}]),t}(n.Component),E=a(69),b=a(71),y=a(72),N=a(73),k=a(74),x=a(75),_=a(70),I=function(e){function t(){var e,a;Object(r.a)(this,t);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).displayMovies=function(){if(void 0!==a.props.context.movieData.movies)return a.props.context.movieData.movies.map(function(e){return o.a.createElement(E.a,{key:e.id,md:"3",className:"movieImg-container"},o.a.createElement(_.a,{style:{textDecoration:"none",color:"black"},to:"/details/".concat(e.id)},e.poster_path?o.a.createElement(n.Fragment,null,o.a.createElement(b.a,{src:"https://image.tmdb.org/t/p/original".concat(e.poster_path)})):o.a.createElement("div",{className:"movieImg-missing"},o.a.createElement("p",null,e.title))))})},a.renderPagination=function(){for(var e=a.props.context.movieData,t=[],c=0;c<9;c++)t.push(e.page+c);return t.map(function(t){return o.a.createElement(n.Fragment,{key:t},t<=e.totalPages?o.a.createElement(y.a,{key:t,onClick:function(){return[a.props.context.actions.setPage(t),a.props.context.actions.fetchMovies(t)]}},o.a.createElement(N.a,null,t)):null)})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"movies-container"},o.a.createElement(k.a,{className:"movieImgs-container"},this.displayMovies()),this.props.context.movieData.totalPages>1?o.a.createElement(x.a,null,this.props.context.movieData.page-1>0?o.a.createElement(y.a,null,o.a.createElement(N.a,{previous:!0,onClick:function(){return[e.props.context.actions.setPage(e.props.context.movieData.page-1),e.props.context.actions.fetchMovies(e.props.context.movieData.page-1)]}})):null,this.renderPagination(),o.a.createElement(y.a,null,o.a.createElement(N.a,{next:!0,onClick:function(){return[e.props.context.actions.setPage(e.props.context.movieData.page+1),e.props.context.actions.fetchMovies(e.props.context.movieData.page+1)]}}))):o.a.createElement("div",{style:{height:"5.9vh"}}),o.a.createElement(k.a,{className:"movieBtn-container"},o.a.createElement(E.a,{md:"3"},o.a.createElement("button",{name:"type",value:"now_playing",onClick:this.props.context.actions.handleType,className:"btn btn-sm animated-button thar-three"},"Now playing")," "),o.a.createElement(E.a,{md:"3"},o.a.createElement("button",{name:"type",value:"top_rated",onClick:this.props.context.actions.handleType,className:"btn btn-sm animated-button thar-three"},"Top Rated")," "),o.a.createElement(E.a,{md:"3"},o.a.createElement("button",{name:"type",value:"popular",onClick:this.props.context.actions.handleType,className:"btn btn-sm animated-button thar-three"},"Popular")," ")))}}]),t}(n.Component),O=a(76),j=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={movie:{}},a.poster=function(){if(a.state.movie!=={}){var e=a.state.movie;return o.a.createElement(E.a,{key:e.id,md:"5",className:"movieImg-container singleImg-container"},e.poster_path?o.a.createElement(b.a,{src:"https://image.tmdb.org/t/p/original".concat(e.poster_path)}):null,e.title?o.a.createElement("div",{className:"movie-title belowMovie-info movie-info"},e.title):null,e.tagline?o.a.createElement("div",{className:"movie-tagline belowMovie-info movie-info"},e.tagline):null,e.genres?o.a.createElement("div",{className:"movieGenre-container belowMovie-info movie-info mapedInfo-container"},e.genres.map(function(e){return o.a.createElement("div",{key:e.name,className:"movie-genre mapped-info"},e.name,",")})):null,e.release_date?o.a.createElement("div",{className:"movie-releaseDate belowMovie-info movie-info"},e.release_date):null,e.status?o.a.createElement("div",{className:"movie-status belowMovie-info m movie-info "},e.status):null)}},a.moreInfo=function(){if(a.state.movie!=={}){var e=a.state.movie;return o.a.createElement(E.a,{md:"7",className:"moreInfo-container"},e.overview?o.a.createElement("div",{className:"movie-overview  moreInfo-local movie-info "},e.overview):null,e.vote_average?o.a.createElement("div",{className:"movie-rating  moreInfo-local "},o.a.createElement("div",{className:"text-center"},"The Movie Database ratings"),o.a.createElement(O.a,{color:"warning",value:e.vote_average,max:10},e.vote_average),"Vote Count: ",e.vote_count):null,e.production_companies?o.a.createElement("div",{className:"text-center movie-info"},"Prodution Companies",o.a.createElement("div",{className:"  moreInfo-local  mapedInfo-container"},e.production_companies.map(function(e){return o.a.createElement("div",{key:e.name,className:"movie-company mapped-info"},e.name,",")}))):null,e.production_countries?o.a.createElement("div",{className:"text-center movie-info"},"Produced In",o.a.createElement("div",{className:"  moreInfo-local  mapedInfo-container"},e.production_countries.map(function(e){return o.a.createElement("div",{key:e.name,className:"movie-company mapped-info"},e.name,",")}))):null,e.runtime?o.a.createElement("div",{className:"text-center movie-info"},"Runtime",o.a.createElement("div",{className:"movie-revenue  moreInfo-local movie-info "},"".concat(e.runtime," Minutes"))):null,e.spoken_languages?o.a.createElement("div",{className:"text-center movie-info"},"Spoken Languages",o.a.createElement("div",{className:"  moreInfo-local  mapedInfo-container"},e.spoken_languages.map(function(e){return o.a.createElement("div",{key:e.name,className:"movie-company mapped-info"},e.name,",")}))," "):null,e.original_language?o.a.createElement("div",{className:"text-center movie-info"},"Spoken Languages",o.a.createElement("div",{className:"movie-orignalLang  moreInfo-local movie-info "},e.original_language)):null,e.original_title&&e.original_title!==e.title?o.a.createElement("div",{className:"text-center movie-info"},"Original title",o.a.createElement("div",{className:"movie-originalTitle  moreInfo-local movie-info "},e.original_title)):null,e.revenue?o.a.createElement("div",{className:"text-center movie-info"},"Movie Revenue",o.a.createElement("div",{className:"movie-revenue  moreInfo-local movie-info "},a.makeCurrency(e.revenue))):null,e.budget?o.a.createElement("div",{className:"text-center movie-info"},"Movie Budget",o.a.createElement("div",{className:"movie-budget  moreInfo-local movie-info "},a.makeCurrency(e.budget))):null,e.belongs_to_collection?o.a.createElement("div",{className:"text-center movie-info"},"Collection",o.a.createElement("div",{className:"movie-collection  moreInfo-local movie-info "},e.belongs_to_collection.name)):null,e.homepage?o.a.createElement("div",{className:"movie-homepage  moreInfo-local movie-info "},o.a.createElement("a",{href:e.homepage},e.homepage)):null,e.popularity?o.a.createElement("div",{className:"text-center movie-info"},"Popularity",o.a.createElement("div",{className:"movie-popularity  moreInfo-local movie-info "},e.popularity)):null,e.backdrop_path?o.a.createElement("div",{className:"movie-backdrop  moreInfo-local movie-info "},o.a.createElement("a",{href:"https://image.tmdb.org/t/p/original".concat(e.backdrop_path)},"View Backdrop")):null,e.poster_path?o.a.createElement("div",{className:"movie-poster  moreInfo-local movie-info "},o.a.createElement("a",{href:"https://image.tmdb.org/t/p/original".concat(e.poster_path)},"View Poster")):null)}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;f.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("705e3765da8c6ecc74161f0b998fa33e")).then(function(t){e.setState({movie:t.data})}).catch(function(e){return console.log(e)})}},{key:"makeCurrency",value:function(e){return"$".concat(e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))}},{key:"render",value:function(){return o.a.createElement("div",{className:"movies-container singleMovie-container"},o.a.createElement(k.a,{className:"movieImgs-container"},this.poster(),this.moreInfo()),o.a.createElement(E.a,{md:"3",style:{margin:"0 auto"}},o.a.createElement(_.a,{to:"/"}," ",o.a.createElement("button",{name:"type",value:"popular",className:"btn btn-sm animated-button thar-three"},"Home"))))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={search:""},a.handleChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("form",{className:"container",onSubmit:function(t){return[e.props.handleSearch(t,e.state.search),e.setState({search:""}),e.props.history.push("/")]}},o.a.createElement(_.a,{style:{textDecoration:"none",color:"black"},to:"/"},o.a.createElement("div",{className:"logo"}," ",o.a.createElement("i",{className:"fas fa-chess-knight fa-2x"}),o.a.createElement("p",null," Movie Knight"))),o.a.createElement("input",{value:this.state.search,name:"search",onChange:this.handleChange,type:"text",className:"searchTerm",placeholder:"Search..."}),o.a.createElement("button",{type:"submit",className:"searchButton"},o.a.createElement("i",{className:"fa fa-search"})))}}]),t}(n.Component),M=(a(63),a(65),function(e){function t(){return Object(r.a)(this,t),Object(m.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(g,null,o.a.createElement(h.Consumer,null,function(e){return o.a.createElement(n.Fragment,null,o.a.createElement(v.a,{render:function(t){return o.a.createElement(w,Object.assign({handleSearch:e.actions.handleSearch},t))}}),o.a.createElement(v.a,{exact:!0,path:"/",render:function(){return o.a.createElement(I,{context:e})}}))})),o.a.createElement(v.a,{exact:!0,path:"/details/:id",render:function(e){return o.a.createElement(j,e)}}))}}]),t}(n.Component)),C=a(77);i.a.render(o.a.createElement(C.a,null,o.a.createElement(M,null)),document.getElementById("root"))}},[[33,2,1]]]);
//# sourceMappingURL=main.99154b29.chunk.js.map